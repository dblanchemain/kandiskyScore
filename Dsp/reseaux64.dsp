declare name        "reseaux64";
declare version     "1.0";
declare author      "D.Blanchemain";
declare license     "BSD";
declare copyright   "(c)D.Blanchemain 2023";
import("stdfaust.lib");
Matrix(N,M) =_<: par(out, M, *(Fader(1,out): si.smoo)) :> par(out, M, _)
with {
tabSpeakerX(0)=1;
tabSpeakerY(0)=-0.98;
tabSpeakerZ(0)=1;
tabSpeakerD(0)=1.72;
tabSpeakerX(1)=1;
tabSpeakerY(1)=-0.98;
tabSpeakerZ(1)=0.34;
tabSpeakerD(1)=1.44;
tabSpeakerX(2)=1;
tabSpeakerY(2)=-0.98;
tabSpeakerZ(2)=-0.36;
tabSpeakerD(2)=1.45;
tabSpeakerX(3)=1;
tabSpeakerY(3)=-0.98;
tabSpeakerZ(3)=-1;
tabSpeakerD(3)=1.72;
tabSpeakerX(4)=0.35;
tabSpeakerY(4)=-0.98;
tabSpeakerZ(4)=1;
tabSpeakerD(4)=1.44;
tabSpeakerX(5)=0.36;
tabSpeakerY(5)=-0.98;
tabSpeakerZ(5)=0.34;
tabSpeakerD(5)=1.10;
tabSpeakerX(6)=0.36;
tabSpeakerY(6)=-0.98;
tabSpeakerZ(6)=-0.35;
tabSpeakerD(6)=1.10;
tabSpeakerX(7)=0.34;
tabSpeakerY(7)=-0.98;
tabSpeakerZ(7)=-1;
tabSpeakerD(7)=1.44;
tabSpeakerX(8)=-0.35;
tabSpeakerY(8)=-0.98;
tabSpeakerZ(8)=1;
tabSpeakerD(8)=1.44;
tabSpeakerX(9)=-0.36;
tabSpeakerY(9)=-0.98;
tabSpeakerZ(9)=0.34;
tabSpeakerD(9)=1.10;
tabSpeakerX(10)=-0.36;
tabSpeakerY(10)=-0.98;
tabSpeakerZ(10)=-0.35;
tabSpeakerD(10)=1.10;
tabSpeakerX(11)=-0.35;
tabSpeakerY(11)=-0.98;
tabSpeakerZ(11)=-1;
tabSpeakerD(11)=1.44;
tabSpeakerX(12)=-1;
tabSpeakerY(12)=-0.98;
tabSpeakerZ(12)=1;
tabSpeakerD(12)=1.72;
tabSpeakerX(13)=-1;
tabSpeakerY(13)=-0.98;
tabSpeakerZ(13)=0.35;
tabSpeakerD(13)=1.44;
tabSpeakerX(14)=-1;
tabSpeakerY(14)=-0.98;
tabSpeakerZ(14)=-0.35;
tabSpeakerD(14)=1.44;
tabSpeakerX(15)=-1;
tabSpeakerY(15)=-0.98;
tabSpeakerZ(15)=-1;
tabSpeakerD(15)=1.72;
tabSpeakerX(16)=1;
tabSpeakerY(16)=-0.33;
tabSpeakerZ(16)=1;
tabSpeakerD(16)=1.45;
tabSpeakerX(17)=1;
tabSpeakerY(17)=-0.33;
tabSpeakerZ(17)=0.35;
tabSpeakerD(17)=1.11;
tabSpeakerX(18)=1;
tabSpeakerY(18)=-0.33;
tabSpeakerZ(18)=-0.35;
tabSpeakerD(18)=1.11;
tabSpeakerX(19)=1;
tabSpeakerY(19)=-0.33;
tabSpeakerZ(19)=-1;
tabSpeakerD(19)=1.45;
tabSpeakerX(20)=0.35;
tabSpeakerY(20)=-0.33;
tabSpeakerZ(20)=1;
tabSpeakerD(20)=1.11;
tabSpeakerX(21)=0.34;
tabSpeakerY(21)=-0.33;
tabSpeakerZ(21)=0.35;
tabSpeakerD(21)=0.59;
tabSpeakerX(22)=0.34;
tabSpeakerY(22)=-0.33;
tabSpeakerZ(22)=-0.35;
tabSpeakerD(22)=0.59;
tabSpeakerX(23)=0.33;
tabSpeakerY(23)=-0.33;
tabSpeakerZ(23)=-1;
tabSpeakerD(23)=1.10;
tabSpeakerX(24)=-0.35;
tabSpeakerY(24)=-0.33;
tabSpeakerZ(24)=1;
tabSpeakerD(24)=1.11;
tabSpeakerX(25)=-0.35;
tabSpeakerY(25)=-0.33;
tabSpeakerZ(25)=0.35;
tabSpeakerD(25)=0.59;
tabSpeakerX(26)=-0.35;
tabSpeakerY(26)=-0.33;
tabSpeakerZ(26)=-0.36;
tabSpeakerD(26)=0.60;
tabSpeakerX(27)=-0.36;
tabSpeakerY(27)=-0.33;
tabSpeakerZ(27)=-1;
tabSpeakerD(27)=1.11;
tabSpeakerX(28)=-1;
tabSpeakerY(28)=-0.33;
tabSpeakerZ(28)=1;
tabSpeakerD(28)=1.45;
tabSpeakerX(29)=-1;
tabSpeakerY(29)=-0.33;
tabSpeakerZ(29)=0.35;
tabSpeakerD(29)=1.11;
tabSpeakerX(30)=-1;
tabSpeakerY(30)=-0.33;
tabSpeakerZ(30)=-0.36;
tabSpeakerD(30)=1.11;
tabSpeakerX(31)=-1;
tabSpeakerY(31)=-0.33;
tabSpeakerZ(31)=-1;
tabSpeakerD(31)=1.45;
tabSpeakerX(32)=1;
tabSpeakerY(32)=0.33;
tabSpeakerZ(32)=1;
tabSpeakerD(32)=1.45;
tabSpeakerX(33)=1;
tabSpeakerY(33)=0.33;
tabSpeakerZ(33)=0.34;
tabSpeakerD(33)=1.11;
tabSpeakerX(34)=1;
tabSpeakerY(34)=0.33;
tabSpeakerZ(34)=-0.36;
tabSpeakerD(34)=1.11;
tabSpeakerX(35)=1;
tabSpeakerY(35)=0.33;
tabSpeakerZ(35)=-1;
tabSpeakerD(35)=1.45;
tabSpeakerX(36)=0.34;
tabSpeakerY(36)=0.33;
tabSpeakerZ(36)=1;
tabSpeakerD(36)=1.11;
tabSpeakerX(37)=0.34;
tabSpeakerY(37)=0.33;
tabSpeakerZ(37)=0.35;
tabSpeakerD(37)=0.59;
tabSpeakerX(38)=0.33;
tabSpeakerY(38)=0.33;
tabSpeakerZ(38)=-0.35;
tabSpeakerD(38)=0.58;
tabSpeakerX(39)=0.34;
tabSpeakerY(39)=0.33;
tabSpeakerZ(39)=-1;
tabSpeakerD(39)=1.11;
tabSpeakerX(40)=-0.35;
tabSpeakerY(40)=0.33;
tabSpeakerZ(40)=1;
tabSpeakerD(40)=1.11;
tabSpeakerX(41)=-0.36;
tabSpeakerY(41)=0.33;
tabSpeakerZ(41)=0.35;
tabSpeakerD(41)=0.60;
tabSpeakerX(42)=-0.35;
tabSpeakerY(42)=0.33;
tabSpeakerZ(42)=-0.35;
tabSpeakerD(42)=0.59;
tabSpeakerX(43)=-0.37;
tabSpeakerY(43)=0.33;
tabSpeakerZ(43)=-1;
tabSpeakerD(43)=1.12;
tabSpeakerX(44)=-1;
tabSpeakerY(44)=0.33;
tabSpeakerZ(44)=1;
tabSpeakerD(44)=1.45;
tabSpeakerX(45)=-1;
tabSpeakerY(45)=0.33;
tabSpeakerZ(45)=0.34;
tabSpeakerD(45)=1.11;
tabSpeakerX(46)=-1;
tabSpeakerY(46)=0.33;
tabSpeakerZ(46)=-0.35;
tabSpeakerD(46)=1.11;
tabSpeakerX(47)=-1;
tabSpeakerY(47)=0.33;
tabSpeakerZ(47)=-1;
tabSpeakerD(47)=1.45;
tabSpeakerX(48)=1;
tabSpeakerY(48)=1;
tabSpeakerZ(48)=1;
tabSpeakerD(48)=1.73;
tabSpeakerX(49)=1;
tabSpeakerY(49)=1;
tabSpeakerZ(49)=0.35;
tabSpeakerD(49)=1.46;
tabSpeakerX(50)=1;
tabSpeakerY(50)=1;
tabSpeakerZ(50)=-0.35;
tabSpeakerD(50)=1.46;
tabSpeakerX(51)=1;
tabSpeakerY(51)=1;
tabSpeakerZ(51)=-1;
tabSpeakerD(51)=1.73;
tabSpeakerX(52)=0.33;
tabSpeakerY(52)=1;
tabSpeakerZ(52)=1;
tabSpeakerD(52)=1.45;
tabSpeakerX(53)=0.35;
tabSpeakerY(53)=1;
tabSpeakerZ(53)=0.34;
tabSpeakerD(53)=1.11;
tabSpeakerX(54)=0.35;
tabSpeakerY(54)=1;
tabSpeakerZ(54)=-0.35;
tabSpeakerD(54)=1.12;
tabSpeakerX(55)=0.35;
tabSpeakerY(55)=1;
tabSpeakerZ(55)=-1;
tabSpeakerD(55)=1.46;
tabSpeakerX(56)=-0.35;
tabSpeakerY(56)=1;
tabSpeakerZ(56)=1;
tabSpeakerD(56)=1.46;
tabSpeakerX(57)=-0.36;
tabSpeakerY(57)=1;
tabSpeakerZ(57)=0.34;
tabSpeakerD(57)=1.12;
tabSpeakerX(58)=-0.36;
tabSpeakerY(58)=1;
tabSpeakerZ(58)=-0.35;
tabSpeakerD(58)=1.12;
tabSpeakerX(59)=-0.36;
tabSpeakerY(59)=1;
tabSpeakerZ(59)=-1;
tabSpeakerD(59)=1.46;
tabSpeakerX(60)=-1;
tabSpeakerY(60)=1;
tabSpeakerZ(60)=1;
tabSpeakerD(60)=1.73;
tabSpeakerX(61)=-1;
tabSpeakerY(61)=1;
tabSpeakerZ(61)=0.35;
tabSpeakerD(61)=1.46;
tabSpeakerX(62)=-1;
tabSpeakerY(62)=1;
tabSpeakerZ(62)=-0.36;
tabSpeakerD(62)=1.46;
tabSpeakerX(63)=-1;
tabSpeakerY(63)=1;
tabSpeakerZ(63)=-1;
tabSpeakerD(63)=1.73;
dtencGen(in, out) = sqrt(pow(tabSpeakerX(out)-x(in),2) + pow(tabSpeakerY(out)+y(in),2) + pow(tabSpeakerZ(out)-z(in),2));
hspot = hslider("Hot Spot",-20,-50,0,1);
dgain(in, out) = ba.db2linear((hspot/tabSpeakerD(out))*dtencGen(in,out));
x(i) = hslider("/X%i",0,-1,1,0.01);
y(i) = hslider("/Y%i",0,-1,1,0.01);
z(i) = hslider("/Z%i",0,-1,1,0.01);
Fader(in,out)= vgroup("[1]Input %2in",dgain(in,out)*cdistance);
cdistance(in)=hslider("dt",1,0,1,0.1):si.smoo;
paramDistance(x)=hgroup("[2]Distance",x);
};
process =_,_:> Matrix(1,64);
