<!DOCTYPE HTML>
<title>D. Blanchemain</title>
<meta name="generator" content="Bluefish 2.2.12" />
<meta name="author" content="dominique" />
<meta name="date" content="2023-12-05T14:52:58+0100" />
<meta name="copyright" content="D. Blanchemain"/>
<meta name="keywords" content=""/>
<meta name="description" content=""/>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8"/>
<meta http-equiv="content-style-type" content="text/css"/>
<link rel="stylesheet" type="text/css" media="all" href="score.css" />
<meta http-equiv="expires" content="0"/>
<script type="module" src="./studio3d.js" ></script>


<style>
	body { margin: 0; }
</style>
<script  >
window.api.receive("fromMain", (data) => {
console.log(`objParam : `,data);
	var nsize=data
	var cmd=data.split(";")
	switch(cmd[0]){
			case 'moveObjActif':
				defSpatial(cmd[1],cmd[2],cmd[3],cmd[4])
				break
			case 'draw3dObj':
				defSpatial(cmd[1],cmd[2],cmd[3],cmd[4])
				break
	}  
	 //console.log(`objParam :`,cmd[0]);      
});

let spX=[]
let spY=[]
let spZ=[]
let gain=1
function defSpatial(tx,ty,tz,g) {
	
	for(let i=0;i<spX.length;i++){
		spX[i]=0
		spY[i]=0
		spZ[i]=0
	}
	var tbx=tx.split(",")
	spX=[].concat(tbx)
	for(let i=0;i<tbx.length;i++){
		spX[i]=parseFloat(tbx[i])
	}
	var tby=ty.split(",")
	for(let i=0;i<tby.length;i++){
		spY[i]=parseFloat(tby[i])
	}
	var tbz=tz.split(",")
	for(let i=0;i<tbz.length;i++){
		spZ[i]=parseFloat(tbz[i])
	}
	gain=parseFloat(g)
	console.log("spat param",spX,spY,spZ,g)
	drawEtat=1
}
</script>


</head>
<body >



</body>
</html>